<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    {% load static %}

    <link rel="stylesheet" href="{% static 'css/edit_handbook.css' %}">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@400&display=swap" rel="stylesheet">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <title>Document</title>
</head>
<body>
    <nav class="navbar">
        <div>

            <div class="navbar-brand">
                <a href="/" class="navbar-brand-name">
                    <img src="/media/navbar/logo.png" width="40" height="40" class="logo">VOI
                </a>
            </div>
        </div>
        
        <div class="navbar-search">
            <input type="text" id="searchInput" placeholder="Search" class="navbar-search-input">
            <button class="navbar-search-button" id="navbarSearchButton">
            </button>
        </div>
        
        <button class="toggle-button">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
        </button>

        <div class="navbar-links">
            <ul>
                <li>
                    <a class="games" id="games" href="{% url 'games_view:all_games' %}">Games</a>
                </li>
                <li id="loginLi">
                    <a class="login" id="login" href="{% url 'user_view:login' %}">Log in</a>
                </li>
                <li id="registerLi">
                    <a class="register" id="register" href="{% url 'user_view:register' %}">Register</a>
                </li>
                <li>
                    <a class="profile" id="profile" href="{% url 'user_view:profile' %}">Profile</a>
                </li>
            </ul>            
        </div>
    </nav>
    <div id="handbook">

        <div id="editHandbook">

            <input type="text" id="handbookTitle">

            <div id="handbookBodyEditorButtons">
                <button id="addStrong"></button>
                <button id="addEm"></button>
                <button id="addLink"></button>
            </div>
            
            <div id="handbookBodyEditor">
                <textarea  id="handbookBody" maxlength="4000"></textarea>
            </div>

            <div id="previewHandbookBody"></div>
            
            <div id="handbookType">
                <label for="types">Handbook type</label><br>
                <select id="types">
                </select>
            </div>

            <div class="errors">
                <p class="error" id="errorHandbookFieldEmpty">Request field empty</p>
                <p class="error" id="errorHandbookTypeNotAllowed">Handbook type not allowed</p>
            </div>
            <button id="saveHandbook">Save</button>
        </div>

        <div class="edit-handbook-screenshot" id="editHandbookScreenshot">
            <div id="oldScreenshot"></div>

            <div class="errors">
                <p class="error" id="errorDeleteScreenshotFieldEmpty">Request field empty</p>
                <p class="error" id="errorScreenshotNotFound">Screenshot not found</p>
                <p class="error" id="errorScreenshotAlreadyDelete">Screenshot already delete</p>
            </div>

            <input type="button" id="deleteScreenshot" value="Delete screenshot"><br>

            <input type="file" id="uploadScreeshot" multiple="multiple">
            <input type="button" class="clone-uploadScreeshot" value="Upload new screenshot" onclick="document.getElementById('uploadScreeshot').click();"><br>
            
            <div class="errors">
                <p class="error" id="errorMoreThanLimitFile"></p>
                <p class="error" id="errorFileFieldEmpty">Request field empty</p>
                <p class="error" id="errorFileSize">File size is too large</p>
                <p class="error" id="errorFileExt">Invalid file type</p>
            </div>
    
            <input type="button" id="saveScreenshot" value="Save screenshot">
            
        </div>

        <div id="deleteHandbook">
            <button id="deleteButton">Delete handbook</button>
            <div id="confirmDelete">
                <p>Are you sure?</p>
                <button id="yesButton">Yes</button>
                <button id="noButton">No</button>
            </div>
        </div>
    </div>
    <div class="errors">
        <p class="error" id="errorHandbookNotFound">Handbook not found</p>
        <p class="error" id="errorUserId">Request data isn't yours</p>
    </div>
    <p id="successDeleteHandbook">Your handbook has been delete</p>
</body>
<script></script>
</html>